# Semiconductor_Yield_Analysis1
데이터 분석 학회에서 배운 판다스로 첫번째 반도체 수율 분석 연습을 해보았습니다.
반도체 공정 데이터는 kaggle에서 UCI SECOM Dataset(Semiconductor manufacturing process dataset)를 가져왔습니다.
목표는 반도체 공정의 수율을 높이고자 데이터 전처리와 모델링을 통해 불량 원인을 찾아내는 것이었습니다.

value_counts 결과 1567개 데이터 중 불량은 104개,
590개의 feature 중 538개가 NaN을 포함했기에 실제 공정에서는 분석이 어렵겠다고 생각했습니다.
제가 생각한 데이터의 개선사항은 크게 네 가지였습니다. 
1. 결측치(NaN) 많아 적절한 대체 필요
2. 불량률 적어 조정 필요
3. 필요없는 칼럼(time) 제거 필요
4. pass/fail -1,1 변환하면 좋음

# 전처리

모든 결측치를 채우는 건 오히려 데이터를 왜곡할 수 있고, 학회에서도 결측치 대체는 많은 방법이 있고 논리구조를 따라 세밀히 적용해야 한다고 배웠습니다.
우선 데이터의 도메인 정보가 제한적이기에 신뢰도 확보를 위해 결측치 비율이 20%를 넘는 feature는 dropna(axis=1)로 먼저 배제하고, 남은 결측치들을 fillna(mean)를 사용해 각 feature의 평균값으로 대체하는 전략을 사용했습니다.
추가적인 정보가 있었다면 논리구조에 따라 MICE, k-NN Imputer 등 다양한 NaN 대체 방식을 논리에 따라 적용했을 거 같습니다.
또 모델이 불량을 명확히 인식하도록 pass/fail 칼럼의 -1,1을 0과 1로 map을 통해 변환했습니다.

# 모델링

학회에서 배운 여러 모델 중 수백개의 feature를 골라낼 모델로 random forest를 이용했습니다.
1463(정상) vs 104(불량) 문제를 해결하고자 class_weight='balanced'를 사용해 모델이 소수인 불량 데이터의 패턴을 더 집중적으로 학습하게 했습니다.
불량 판정에 큰 영향을 미친 feature들을 점수화하고자 feature_importances_ 를 사용했습니다.

# 결론

분석 결과 상위 10개의 feature가 수율 불량의 주원인임을 통계적으로 확인할 수 있습니다.
현업 엔지니어는 이 분석 결과를 토대로 상위 feautre 센서(59번, 100번, 330번)의 관리 한계선(SPC)을 우선적으로 강화하고 모니터링하여 수율을 개선할 수 있겠습니다.

